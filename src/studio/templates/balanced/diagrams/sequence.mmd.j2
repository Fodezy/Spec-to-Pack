%% Sequence Diagram for {{ meta.name }}
%% Generated: {{ generated_at }}
%% Template: balanced-1.0.0

sequenceDiagram
    participant Customer
    participant WebApp
    participant AuthService
    participant ProductAPI
    participant CartAPI
    participant PaymentGateway
    participant Database
    
    %% E-commerce Customer Journey
    Note over Customer,Database: User Registration & Login
    Customer->>+WebApp: Access platform
    WebApp->>+AuthService: Authenticate user
    AuthService->>+Database: Validate credentials
    Database-->>-AuthService: User data
    AuthService-->>-WebApp: Authentication token
    WebApp-->>-Customer: Welcome dashboard
    
    Note over Customer,Database: Product Browsing & Selection
    Customer->>+WebApp: Browse products
    WebApp->>+ProductAPI: Get product catalog
    ProductAPI->>+Database: Query products
    Database-->>-ProductAPI: Product list
    ProductAPI-->>-WebApp: Filtered products
    WebApp-->>-Customer: Display products
    
    Note over Customer,Database: Shopping Cart & Checkout
    Customer->>+WebApp: Add to cart
    WebApp->>+CartAPI: Update cart
    CartAPI->>+Database: Save cart state
    Database-->>-CartAPI: Confirmation
    CartAPI-->>-WebApp: Cart updated
    WebApp-->>-Customer: Item added
    
    Customer->>+WebApp: Proceed to checkout
    WebApp->>+PaymentGateway: Process payment
    PaymentGateway-->>-WebApp: Payment confirmation
    WebApp->>+Database: Create order
    Database-->>-WebApp: Order ID
    WebApp-->>-Customer: Order confirmation
    
    %% Error handling
    Note over Customer,Database: Error Handling
    Customer->>+WebApp: Invalid payment data
    WebApp->>WebApp: Validate input
    WebApp-->>Customer: Validation error
    
    %% Admin operations
    Note over WebApp,Database: Admin Dashboard
    WebApp->>+Database: Generate reports
    Database-->>-WebApp: Sales analytics
    WebApp->>WebApp: Track inventory